/* ==========================================================================
   Form Themed Styles
   Uses CSS custom properties (--df-*) from ThemeCssGeneratorService
   ========================================================================== */

/* Container */
.df-form-container {
    width: 100%;
    min-height: 100%;
}

.df-form-unthemed {
    /* Default styles for non-themed forms */
}

/* Base Form Styles */
.df-form {
    font-family: var(--df-font, 'Inter', -apple-system, BlinkMacSystemFont, sans-serif);
    font-size: var(--df-text-base, 16px);
    line-height: var(--df-line-height, 1.5);
    color: var(--df-text, #1e293b);
    background-color: var(--df-bg, #ffffff);
    padding: var(--df-form-padding, 24px);
}

.df-form-card {
    background-color: var(--df-surface, #ffffff);
    border-radius: var(--df-radius-lg, 12px);
    box-shadow: var(--df-shadow-card, 0 1px 3px rgba(0,0,0,0.1));
    padding: var(--df-form-padding, 24px);
}

/* Form Title */
.df-form-title {
    font-family: var(--df-heading-font, var(--df-font));
    font-size: var(--df-form-title-size, 28px);
    font-weight: var(--df-font-bold, 700);
    color: var(--df-text, #1e293b);
    margin: 0 0 8px 0;
}

.df-form-description {
    font-size: var(--df-description-size, 15px);
    color: var(--df-text-secondary, #64748b);
    margin: 0 0 var(--df-section-gap, 32px) 0;
}

/* Sections */
.df-section {
    margin-bottom: var(--df-section-gap, 32px);
}

.df-section:last-of-type {
    margin-bottom: 0;
}

.df-section-title {
    font-family: var(--df-heading-font, var(--df-font));
    font-size: var(--df-section-title-size, 20px);
    font-weight: var(--df-font-semibold, 600);
    color: var(--df-text, #1e293b);
    margin: 0 0 var(--df-question-gap, 24px) 0;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--df-border, #e2e8f0);
}

/* Questions/Fields */
.df-question {
    margin-bottom: var(--df-question-gap, 24px);
}

.df-question:last-child {
    margin-bottom: 0;
}

.df-label {
    display: block;
    font-size: var(--df-question-title-size, 14px);
    font-weight: var(--df-font-medium, 500);
    color: var(--df-text, #1e293b);
    margin-bottom: var(--df-label-gap, 6px);
}

.df-label-required::after {
    content: ' *';
    color: var(--df-error, #ef4444);
}

.df-description {
    font-size: var(--df-description-size, 13px);
    color: var(--df-text-secondary, #64748b);
    margin-bottom: var(--df-label-gap, 6px);
}

/* Input Base Styles */
.df-input,
.df-select,
.df-textarea {
    width: 100%;
    padding: var(--df-input-padding-y, 10px) var(--df-input-padding-x, 12px);
    font-family: inherit;
    font-size: var(--df-text-base, 16px);
    color: var(--df-text, #1e293b);
    background-color: var(--df-surface, #ffffff);
    border: var(--df-border-width, 1px) var(--df-border-style, solid) var(--df-border, #e2e8f0);
    border-radius: var(--df-radius-md, 8px);
    transition: all 0.2s ease;
}

.df-input::placeholder,
.df-textarea::placeholder {
    color: var(--df-text-placeholder, #a1a1aa);
}

.df-input:hover,
.df-select:hover,
.df-textarea:hover {
    border-color: var(--df-border-hover, #cbd5e1);
}

.df-input:focus,
.df-select:focus,
.df-textarea:focus {
    outline: none;
    border-color: var(--df-border-focus, var(--df-primary, #6366f1));
    box-shadow: 0 0 0 var(--df-focus-ring-width, 3px) var(--df-focus-ring, rgba(99, 102, 241, 0.1));
}

.df-input:disabled,
.df-select:disabled,
.df-textarea:disabled {
    background-color: var(--df-bg-dim, #f8fafc);
    color: var(--df-text-disabled, #a1a1aa);
    cursor: not-allowed;
}

/* Select Dropdown */
.df-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 40px;
}

/* Textarea */
.df-textarea {
    min-height: 100px;
    resize: vertical;
}

/* Checkbox & Radio Groups */
.df-checkbox-group,
.df-radio-group {
    display: flex;
    flex-direction: column;
    gap: var(--df-option-gap, 8px);
}

.df-checkbox-item,
.df-radio-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    cursor: pointer;
}

.df-checkbox,
.df-radio {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    margin-top: 2px;
    accent-color: var(--df-primary, #6366f1);
    cursor: pointer;
}

.df-checkbox-label,
.df-radio-label {
    font-size: var(--df-text-base, 16px);
    color: var(--df-text, #1e293b);
    line-height: 1.4;
}

/* Error States */
.df-input-error,
.df-input.error {
    border-color: var(--df-error, #ef4444);
}

.df-input-error:focus,
.df-input.error:focus {
    box-shadow: 0 0 0 var(--df-focus-ring-width, 3px) var(--df-error-bg, rgba(239, 68, 68, 0.1));
}

.df-error-message {
    display: block;
    font-size: 13px;
    color: var(--df-error, #ef4444);
    margin-top: 4px;
}

.df-error-icon {
    margin-right: 4px;
}

/* Success States */
.df-success-message {
    font-size: 14px;
    color: var(--df-success, #10b981);
    background-color: var(--df-success-bg, #ecfdf5);
    padding: 12px 16px;
    border-radius: var(--df-radius-md, 8px);
    border-left: 4px solid var(--df-success, #10b981);
}

/* Button Styles */
.df-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: var(--df-btn-padding-y, 10px) var(--df-btn-padding-x, 20px);
    font-family: inherit;
    font-size: var(--df-text-base, 16px);
    font-weight: var(--df-font-medium, 500);
    border-radius: var(--df-radius-md, 8px);
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
}

.df-btn:focus {
    outline: none;
    box-shadow: 0 0 0 var(--df-focus-ring-width, 3px) var(--df-focus-ring, rgba(99, 102, 241, 0.1));
}

.df-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.df-btn-primary {
    background-color: var(--df-primary, #6366f1);
    color: var(--df-primary-fg, #ffffff);
}

.df-btn-primary:hover:not(:disabled) {
    background-color: var(--df-primary-hover, #4f46e5);
}

.df-btn-secondary {
    background-color: var(--df-secondary, #f1f5f9);
    color: var(--df-secondary-fg, #475569);
}

.df-btn-secondary:hover:not(:disabled) {
    background-color: var(--df-secondary-hover, #e2e8f0);
}

/* Form Actions */
.df-form-actions {
    display: flex;
    gap: 12px;
    margin-top: var(--df-section-gap, 32px);
    padding-top: var(--df-section-gap, 24px);
    border-top: 1px solid var(--df-border, #e2e8f0);
}

/* Empty State */
.df-empty-form {
    text-align: center;
    padding: 48px 24px;
    color: var(--df-text-secondary, #64748b);
}

.df-empty-form i {
    font-size: 48px;
    opacity: 0.5;
    margin-bottom: 16px;
}

.df-empty-form p {
    margin: 0;
}

/* Dark Mode Support */
[data-theme="dark"] .df-form,
.df-dark .df-form {
    color: var(--df-text, #f1f5f9);
    background-color: var(--df-bg, #0f172a);
}

[data-theme="dark"] .df-form-card,
.df-dark .df-form-card {
    background-color: var(--df-surface, #1e293b);
}

[data-theme="dark"] .df-input,
[data-theme="dark"] .df-select,
[data-theme="dark"] .df-textarea,
.df-dark .df-input,
.df-dark .df-select,
.df-dark .df-textarea {
    background-color: var(--df-surface, #1e293b);
    border-color: var(--df-border, #334155);
    color: var(--df-text, #f1f5f9);
}

/* Accessibility: Focus Visible */
.df-input:focus-visible,
.df-select:focus-visible,
.df-textarea:focus-visible,
.df-btn:focus-visible {
    outline: 2px solid var(--df-primary, #6366f1);
    outline-offset: 2px;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .df-input,
    .df-select,
    .df-textarea,
    .df-btn {
        transition: none;
    }
}

/* Print Styles */
@media print {
    .df-form {
        background: white;
        color: black;
    }

    .df-form-actions {
        display: none;
    }
}

@* Collapsible property section wrapper *@

<div class="property-section">
    <div class="property-section-header" @onclick="ToggleCollapsed">
        <div class="property-section-title">
            <i class="@Icon"></i>
            <span>@Title</span>
        </div>
        <i class="bi @(IsCollapsed ? "bi-chevron-right" : "bi-chevron-down")" style="font-size: 12px;"></i>
    </div>
    <div class="property-section-body @(IsCollapsed ? "collapsed" : "")">
        @ChildContent
    </div>
</div>

@code {
    [Parameter] public required string Title { get; set; }
    [Parameter] public required string Icon { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool DefaultCollapsed { get; set; } = false;

    private bool IsCollapsed { get; set; }

    protected override void OnInitialized()
    {
        IsCollapsed = DefaultCollapsed;
    }

    private void ToggleCollapsed()
    {
        IsCollapsed = !IsCollapsed;
    }
}

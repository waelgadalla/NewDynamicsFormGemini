@* Canvas preview for dropdown fields *@

<label class="field-label">
    @(FieldNode.Schema.LabelEn ?? FieldNode.Schema.Id)
    @if (FieldNode.Schema.Validation?.IsRequired == true)
    {
        <span class="field-required">*</span>
    }
</label>
<select class="field-input-preview" disabled>
    <option>@(FieldNode.Schema.PlaceholderEn ?? "Select...")</option>
    @foreach (var option in GetOptions().Take(3))
    {
        <option>@option.LabelEn</option>
    }
    @if (GetOptions().Count() > 3)
    {
        <option>... (@(GetOptions().Count() - 3) more)</option>
    }
</select>
@if (!string.IsNullOrEmpty(FieldNode.Schema.HelpEn))
{
    <div style="font-size: 11px; color: var(--text-muted); margin-top: 4px;">@FieldNode.Schema.HelpEn</div>
}

@code {
    [Parameter] public required FormFieldNode FieldNode { get; set; }

    private IEnumerable<FieldOption> GetOptions()
    {
        return FieldNode.Schema.Options ?? Enumerable.Empty<FieldOption>();
    }
}

@using DynamicForms.Core.V4.Schemas

<div class="codeset-tabs">
    <div class="tabs-header">
        <button class="tab-btn @(ActiveTab == "config" ? "active" : "")" @onclick="@(() => ActiveTab = "config")">
            Configuration
        </button>
        <button class="tab-btn @(ActiveTab == "items" ? "active" : "")" @onclick="@(() => ActiveTab = "items")">
            Items (@CodeSet.Items.Length)
        </button>
        <button class="tab-btn @(ActiveTab == "json" ? "active" : "")" @onclick="@(() => ActiveTab = "json")">
            JSON
        </button>
        <button class="tab-btn @(ActiveTab == "usage" ? "active" : "")" @onclick="@(() => ActiveTab = "usage")">
            Usage
        </button>
    </div>
    
    <div class="tab-content">
        @if (ActiveTab == "config")
        {
            <CodeSetConfigTab CodeSet="CodeSet" />
        }
        else if (ActiveTab == "items")
        {
            <CodeSetItemsTab CodeSet="CodeSet" />
        }
        else if (ActiveTab == "json")
        {
            <CodeSetJsonTab CodeSet="CodeSet" />
        }
        else if (ActiveTab == "usage")
        {
            <CodeSetUsageTab CodeSet="CodeSet" />
        }
    </div>
</div>

@code {
    [Parameter] public CodeSetSchema CodeSet { get; set; }
    
    private string ActiveTab { get; set; } = "config";
}

<style>
    .codeset-tabs {
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    
    .tabs-header {
        display: flex;
        padding: 0 24px;
        background: var(--bg-primary);
        border-bottom: 1px solid var(--border-color);
        gap: 24px;
    }
    
    .tab-btn {
        padding: 16px 0;
        background: none;
        border: none;
        border-bottom: 2px solid transparent;
        font-size: 14px;
        font-weight: 500;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .tab-btn:hover {
        color: var(--primary);
    }
    
    .tab-btn.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
    }
    
    .tab-content {
        flex: 1;
        overflow: auto;
        padding: 24px;
    }
</style>

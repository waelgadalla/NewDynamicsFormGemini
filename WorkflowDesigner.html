<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DynamicForms - Workflow Designer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-canvas: #F0F4F8;
            --grid-color: #E1E7EF;
            --node-bg: #FFFFFF;
            --primary: #6366F1;
            --text-primary: #1E293B;
            --border-color: #CBD5E1;
        }
        
        body { margin: 0; height: 100vh; overflow: hidden; font-family: 'DM Sans', sans-serif; display: flex; flex-direction: column; }

        /* Toolbar */
        .toolbar {
            height: 60px; background: white; border-bottom: 1px solid var(--border-color);
            display: flex; align-items: center; justify-content: space-between; padding: 0 24px; z-index: 10;
        }
        
        /* Canvas Area */
        .canvas-wrapper {
            flex: 1; position: relative; background-color: var(--bg-canvas);
            background-image: radial-gradient(var(--grid-color) 1px, transparent 1px);
            background-size: 20px 20px; overflow: hidden;
        }

        /* Nodes */
        .node {
            position: absolute; width: 240px; background: var(--node-bg);
            border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            border: 1px solid var(--border-color); cursor: grab; transition: border-color 0.2s;
        }
        .node:hover { border-color: var(--primary); }
        .node.selected { border: 2px solid var(--primary); box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1); }

        .node-header {
            padding: 12px 16px; border-bottom: 1px solid var(--bg-canvas);
            display: flex; align-items: center; justify-content: space-between;
            font-weight: 600; font-size: 14px; color: var(--text-primary);
            border-radius: 8px 8px 0 0;
        }
        .node-body { padding: 12px 16px; font-size: 12px; color: #64748B; }
        
        /* Node Types */
        .node-start .node-header { background: #ECFDF5; color: #047857; }
        .node-module .node-header { background: white; }
        .node-end .node-header { background: #F1F5F9; color: #475569; }
        .node-decision { width: 140px; height: 140px; transform: rotate(45deg); border-radius: 12px; display: flex; align-items: center; justify-content: center; text-align: center; }
        .node-decision .content { transform: rotate(-45deg); }

        /* Connection Lines (Simulated with SVG) */
        .connections { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
        
        /* Floating Controls */
        .zoom-controls {
            position: absolute; bottom: 24px; left: 24px; background: white;
            padding: 8px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex; gap: 8px;
        }
        
        .minimap {
            position: absolute; bottom: 24px; right: 340px; width: 200px; height: 120px;
            background: white; border: 1px solid var(--border-color); border-radius: 8px;
            opacity: 0.8;
        }

        /* Properties Panel */
        .workflow-sidebar {
            position: absolute; right: 0; top: 0; bottom: 0; width: 320px;
            background: white; border-left: 1px solid var(--border-color);
            display: flex; flex-direction: column;
        }
        
        .btn { padding: 8px 16px; border-radius: 6px; border: none; font-weight: 500; cursor: pointer; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-white { background: white; border: 1px solid var(--border-color); }
        .btn-icon { width: 32px; height: 32px; padding: 0; display: flex; align-items: center; justify-content: center; }

    </style>
</head>
<body>

    <div class="toolbar">
        <div style="font-weight: 700; font-size: 18px; display: flex; align-items: center; gap: 10px;">
            <i class="bi bi-diagram-3-fill" style="color: var(--primary);"></i>
            New Employee Workflow
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="btn btn-white"><i class="bi bi-play"></i> Simulate</button>
            <button class="btn btn-primary">Save Workflow</button>
        </div>
    </div>

    <div class="canvas-wrapper">
        <svg class="connections">
            <!-- Simple Bezier curves simulating connections -->
            <path d="M 170 140 C 170 190, 250 140, 250 190" stroke="#94A3B8" stroke-width="2" fill="none" marker-end="url(#arrow)" />
            <path d="M 370 290 C 370 340, 370 340, 370 390" stroke="#94A3B8" stroke-width="2" fill="none" marker-end="url(#arrow)" />
            <defs>
                <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L0,6 L9,3 z" fill="#94A3B8" />
                </marker>
            </defs>
        </svg>

        <!-- Start Node -->
        <div class="node node-start" style="top: 50px; left: 50px;">
            <div class="node-header"><i class="bi bi-play-circle"></i> Start</div>
            <div class="node-body">Initiated by HR Manager</div>
        </div>

        <!-- Module 1 -->
        <div class="node node-module selected" style="top: 150px; left: 250px;">
            <div class="node-header">
                <span><i class="bi bi-file-text"></i> Eligibility Check</span>
                <i class="bi bi-pencil-square" style="cursor: pointer;"></i>
            </div>
            <div class="node-body">
                <div>ID: Module_1</div>
                <div style="margin-top: 8px;"><span style="background: #EEF2FF; color: var(--primary); padding: 2px 6px; border-radius: 4px; font-size: 10px;">Step 1</span></div>
            </div>
        </div>

        <!-- Decision -->
        <div class="node node-decision" style="top: 300px; left: 300px; width: 140px; height: 140px; border-radius: 10px; transform: rotate(45deg); background: #FFFBEB; border-color: #FCD34D;">
            <div class="content" style="transform: rotate(-45deg); text-align: center; width: 100%;">
                <div style="font-weight: 700; font-size: 12px; color: #92400E;">Is Eligible?</div>
                <div style="font-size: 10px; color: #B45309;">Auto-Rule</div>
            </div>
        </div>

        <!-- Floating UI -->
        <div class="zoom-controls">
            <button class="btn btn-white btn-icon"><i class="bi bi-plus-lg"></i></button>
            <button class="btn btn-white btn-icon"><i class="bi bi-dash-lg"></i></button>
            <button class="btn btn-white btn-icon"><i class="bi bi-arrows-fullscreen"></i></button>
        </div>
        <div class="minimap"></div>
    </div>

    <!-- Right Panel -->
    <div class="workflow-sidebar">
        <div style="padding: 16px; border-bottom: 1px solid var(--border-color); background: #F8FAFC;">
            <div style="font-weight: 600;">Module Properties</div>
            <div style="font-size: 12px; color: #64748B;">Eligibility Check</div>
        </div>
        <div style="padding: 16px; flex: 1;">
            <div style="margin-bottom: 16px;">
                <label style="display: block; font-size: 12px; font-weight: 600; margin-bottom: 4px;">Module Title</label>
                <input type="text" value="Eligibility Check" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
            </div>
            <div style="margin-bottom: 16px;">
                <label style="display: block; font-size: 12px; font-weight: 600; margin-bottom: 4px;">Step Number</label>
                <input type="number" value="1" style="width: 100%; padding: 8px; border: 1px solid var(--border-color); border-radius: 6px;">
            </div>
            <div style="margin-bottom: 16px;">
                <label style="display: block; font-size: 12px; font-weight: 600; margin-bottom: 4px;">Permissions</label>
                <div style="padding: 8px; background: var(--bg-canvas); border-radius: 6px;">
                    <div style="font-size: 12px;"><input type="checkbox" checked> Editable by Applicant</div>
                    <div style="font-size: 12px; margin-top: 4px;"><input type="checkbox"> Read-only for Reviewer</div>
                </div>
            </div>
            <button class="btn btn-white" style="width: 100%; color: var(--primary); border-color: var(--primary);">
                <i class="bi bi-pencil"></i> Edit Form Layout
            </button>
        </div>
    </div>

</body>
</html>

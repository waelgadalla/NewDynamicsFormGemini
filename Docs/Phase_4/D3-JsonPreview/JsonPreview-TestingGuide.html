<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.3 JSON Preview - Testing & Implementation Guide</title>
    <style>
        :root {
            --primary: #6366F1;
            --primary-light: rgba(99, 102, 241, 0.1);
            --success: #10B981;
            --success-light: rgba(16, 185, 129, 0.1);
            --warning: #F59E0B;
            --warning-light: rgba(245, 158, 11, 0.1);
            --error: #EF4444;
            --bg-primary: #FFFFFF;
            --bg-secondary: #F9FAFB;
            --bg-tertiary: #F3F4F6;
            --text-primary: #111827;
            --text-secondary: #6B7280;
            --border-color: #E5E7EB;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 24px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 2px solid var(--primary);
        }

        .header h1 {
            font-size: 28px;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .header p {
            color: var(--text-secondary);
        }

        .progress-bar {
            background: var(--bg-tertiary);
            border-radius: 8px;
            height: 12px;
            margin: 16px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--primary), var(--success));
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 8px;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .section {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        .section-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .section-icon.testing {
            background: var(--primary-light);
            color: var(--primary);
        }

        .section-icon.manual {
            background: var(--warning-light);
            color: var(--warning);
        }

        .section-icon.checklist {
            background: var(--success-light);
            color: var(--success);
        }

        .section h2 {
            font-size: 20px;
            color: var(--text-primary);
        }

        .checklist-group {
            margin-bottom: 20px;
        }

        .checklist-group h3 {
            font-size: 14px;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            background: var(--bg-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .checklist-item:hover {
            background: var(--bg-tertiary);
        }

        .checklist-item.completed {
            background: var(--success-light);
        }

        .checklist-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            accent-color: var(--success);
            cursor: pointer;
        }

        .checklist-item label {
            flex: 1;
            cursor: pointer;
        }

        .checklist-item.completed label {
            text-decoration: line-through;
            color: var(--text-secondary);
        }

        .step-number {
            background: var(--primary);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 12px 0;
        }

        .note {
            background: var(--warning-light);
            border-left: 4px solid var(--warning);
            padding: 12px 16px;
            border-radius: 0 8px 8px 0;
            margin: 16px 0;
        }

        .note-title {
            font-weight: 600;
            color: var(--warning);
            margin-bottom: 4px;
        }

        .file-path {
            background: var(--bg-tertiary);
            padding: 4px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 13px;
        }

        .task-list {
            list-style: none;
        }

        .task-list li {
            padding: 8px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .task-list li:last-child {
            border-bottom: none;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge.required {
            background: var(--error);
            color: white;
        }

        .badge.optional {
            background: var(--text-secondary);
            color: white;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 20px;
        }

        .stat-card {
            background: var(--bg-secondary);
            padding: 16px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        @media (max-width: 600px) {
            .summary-stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>D.3 JSON Preview - Testing Guide</h1>
            <p>Manual testing steps and implementation verification checklist</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text"><span id="completedCount">0</span> of <span id="totalCount">0</span> items completed</div>
        </div>

        <!-- Section 1: Manual Testing Steps -->
        <div class="section">
            <div class="section-header">
                <div class="section-icon testing">&#128269;</div>
                <h2>Section 1: Manual Testing Steps</h2>
            </div>

            <div class="checklist-group">
                <h3>1. JSON Syntax Highlighting</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-1" onchange="updateProgress()">
                    <label for="test-1"><span class="step-number">1</span>Open the Module Editor page with a form that has fields</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-2" onchange="updateProgress()">
                    <label for="test-2"><span class="step-number">2</span>Switch to JSON view using the view mode toggle</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-3" onchange="updateProgress()">
                    <label for="test-3"><span class="step-number">3</span>Verify JSON keys appear in blue color</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-4" onchange="updateProgress()">
                    <label for="test-4"><span class="step-number">4</span>Verify string values appear with syntax coloring</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-5" onchange="updateProgress()">
                    <label for="test-5"><span class="step-number">5</span>Verify numbers appear in appropriate color</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-6" onchange="updateProgress()">
                    <label for="test-6"><span class="step-number">6</span>Verify booleans (true/false) appear in red</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-7" onchange="updateProgress()">
                    <label for="test-7"><span class="step-number">7</span>Verify null values appear in purple</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>2. Line Numbers Display</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-8" onchange="updateProgress()">
                    <label for="test-8"><span class="step-number">1</span>Verify line numbers appear on the left side</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-9" onchange="updateProgress()">
                    <label for="test-9"><span class="step-number">2</span>Verify line numbers align with JSON content lines</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-10" onchange="updateProgress()">
                    <label for="test-10"><span class="step-number">3</span>Scroll down and verify line numbers scroll in sync</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>3. View Mode Toggle</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-11" onchange="updateProgress()">
                    <label for="test-11"><span class="step-number">1</span>Click "Formatted" button - verify JSON is pretty-printed</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-12" onchange="updateProgress()">
                    <label for="test-12"><span class="step-number">2</span>Click "Raw" button - verify JSON shows (behavior may vary)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-13" onchange="updateProgress()">
                    <label for="test-13"><span class="step-number">3</span>Click "Diff" button - verify diff view appears with two panes</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-14" onchange="updateProgress()">
                    <label for="test-14"><span class="step-number">4</span>Verify active button is visually highlighted</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>4. Search Functionality</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-15" onchange="updateProgress()">
                    <label for="test-15"><span class="step-number">1</span>Press Ctrl+F - verify search bar appears</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-16" onchange="updateProgress()">
                    <label for="test-16"><span class="step-number">2</span>Click "Search" button - verify search bar toggles</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-17" onchange="updateProgress()">
                    <label for="test-17"><span class="step-number">3</span>Type a search term - verify match count updates</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-18" onchange="updateProgress()">
                    <label for="test-18"><span class="step-number">4</span>Click Next button - verify navigation through matches</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-19" onchange="updateProgress()">
                    <label for="test-19"><span class="step-number">5</span>Click Previous button - verify backward navigation</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-20" onchange="updateProgress()">
                    <label for="test-20"><span class="step-number">6</span>Press Enter - verify moves to next match</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-21" onchange="updateProgress()">
                    <label for="test-21"><span class="step-number">7</span>Press Escape - verify search bar closes</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-22" onchange="updateProgress()">
                    <label for="test-22"><span class="step-number">8</span>Search non-existent term - verify "No matches" message</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>5. Copy Functionality</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-23" onchange="updateProgress()">
                    <label for="test-23"><span class="step-number">1</span>Click "Copy" button</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-24" onchange="updateProgress()">
                    <label for="test-24"><span class="step-number">2</span>Paste in a text editor - verify JSON is copied</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-25" onchange="updateProgress()">
                    <label for="test-25"><span class="step-number">3</span>Verify copied JSON is valid and well-formatted</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>6. Download Functionality</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-26" onchange="updateProgress()">
                    <label for="test-26"><span class="step-number">1</span>Click "Download" button</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-27" onchange="updateProgress()">
                    <label for="test-27"><span class="step-number">2</span>Verify .json file downloads</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-28" onchange="updateProgress()">
                    <label for="test-28"><span class="step-number">3</span>Open downloaded file - verify content matches</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>7. Import Functionality</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-29" onchange="updateProgress()">
                    <label for="test-29"><span class="step-number">1</span>Click "Import" button - verify file picker opens</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-30" onchange="updateProgress()">
                    <label for="test-30"><span class="step-number">2</span>Select a valid JSON file - verify import succeeds</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-31" onchange="updateProgress()">
                    <label for="test-31"><span class="step-number">3</span>Select an invalid JSON file - verify error message appears</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>8. Diff View</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-32" onchange="updateProgress()">
                    <label for="test-32"><span class="step-number">1</span>Make changes to the form (add/remove fields)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-33" onchange="updateProgress()">
                    <label for="test-33"><span class="step-number">2</span>Click "Diff" - verify left pane shows original</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-34" onchange="updateProgress()">
                    <label for="test-34"><span class="step-number">3</span>Verify right pane shows current version</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-35" onchange="updateProgress()">
                    <label for="test-35"><span class="step-number">4</span>Verify added lines are highlighted green</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-36" onchange="updateProgress()">
                    <label for="test-36"><span class="step-number">5</span>Verify removed lines are highlighted red</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-37" onchange="updateProgress()">
                    <label for="test-37"><span class="step-number">6</span>Verify modified lines are highlighted yellow</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>9. Validation Panel</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-38" onchange="updateProgress()">
                    <label for="test-38"><span class="step-number">1</span>Import invalid JSON - verify validation panel appears</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-39" onchange="updateProgress()">
                    <label for="test-39"><span class="step-number">2</span>Verify error count is displayed in header</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-40" onchange="updateProgress()">
                    <label for="test-40"><span class="step-number">3</span>Verify error message and line/column info shown</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-41" onchange="updateProgress()">
                    <label for="test-41"><span class="step-number">4</span>Click close button - verify panel closes</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>10. Status Bar</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-42" onchange="updateProgress()">
                    <label for="test-42"><span class="step-number">1</span>Verify "Valid JSON" indicator with green check</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-43" onchange="updateProgress()">
                    <label for="test-43"><span class="step-number">2</span>With invalid JSON - verify "Invalid JSON" with red X</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-44" onchange="updateProgress()">
                    <label for="test-44"><span class="step-number">3</span>Verify "Last modified" timestamp updates</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-45" onchange="updateProgress()">
                    <label for="test-45"><span class="step-number">4</span>Verify cursor position shows (Ln, Col)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-46" onchange="updateProgress()">
                    <label for="test-46"><span class="step-number">5</span>Verify encoding shows "UTF-8"</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-47" onchange="updateProgress()">
                    <label for="test-47"><span class="step-number">6</span>Verify file type shows "JSON"</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>11. Dark Mode</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-48" onchange="updateProgress()">
                    <label for="test-48"><span class="step-number">1</span>Toggle dark mode in the application</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-49" onchange="updateProgress()">
                    <label for="test-49"><span class="step-number">2</span>Verify JSON keys appear in light blue</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-50" onchange="updateProgress()">
                    <label for="test-50"><span class="step-number">3</span>Verify booleans appear in coral/red</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-51" onchange="updateProgress()">
                    <label for="test-51"><span class="step-number">4</span>Verify all UI elements are readable</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>12. Stats Display</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="test-52" onchange="updateProgress()">
                    <label for="test-52"><span class="step-number">1</span>Verify file size is displayed (e.g., "2.4 KB")</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-53" onchange="updateProgress()">
                    <label for="test-53"><span class="step-number">2</span>Verify line count is displayed</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="test-54" onchange="updateProgress()">
                    <label for="test-54"><span class="step-number">3</span>Verify field count matches actual fields</label>
                </div>
            </div>
        </div>

        <!-- Section 2: Manual Implementation Tasks -->
        <div class="section">
            <div class="section-header">
                <div class="section-icon manual">&#9997;</div>
                <h2>Section 2: Manual Implementation Tasks</h2>
            </div>

            <div class="note">
                <div class="note-title">Important</div>
                The following tasks may require manual configuration or integration into your project.
            </div>

            <ul class="task-list">
                <li>
                    <span class="badge required">Required</span>
                    <strong>Import CSS file</strong> - Add json-preview.css to your App.razor or _Host.cshtml
                    <div class="code-block">&lt;link href="css/json-preview.css" rel="stylesheet" /&gt;</div>
                </li>
                <li>
                    <span class="badge required">Required</span>
                    <strong>Import JavaScript file</strong> - Add json-preview.js to your page
                    <div class="code-block">&lt;script src="js/json-preview.js"&gt;&lt;/script&gt;</div>
                </li>
                <li>
                    <span class="badge required">Required</span>
                    <strong>Integrate JsonPreview</strong> - Add the component to your Module Editor
                    <div class="code-block">@if (CurrentView == EditorView.Json)
{
    &lt;JsonPreview Module="@CurrentModule" OnModuleChanged="HandleModuleChanged" /&gt;
}</div>
                </li>
                <li>
                    <span class="badge optional">Optional</span>
                    <strong>JsonMinimap component</strong> - A minimap visualization for large JSON files
                    <br><span class="file-path">Components/Preview/JsonMinimap.razor</span>
                </li>
                <li>
                    <span class="badge optional">Optional</span>
                    <strong>PathNavigator component</strong> - Breadcrumb navigation for JSON paths
                    <br><span class="file-path">Components/Preview/PathNavigator.razor</span>
                </li>
                <li>
                    <span class="badge optional">Optional</span>
                    <strong>Proper diff algorithm</strong> - Consider using a library like DiffPlex for production diff
                </li>
            </ul>

            <h3 style="margin-top: 24px; margin-bottom: 12px;">Created Files</h3>
            <ul class="task-list">
                <li><span class="file-path">Models/JsonPreviewModels.cs</span> - Supporting types</li>
                <li><span class="file-path">Components/Preview/JsonPreview.razor</span> - Main container</li>
                <li><span class="file-path">Components/Preview/JsonToolbar.razor</span> - Toolbar component</li>
                <li><span class="file-path">Components/Preview/JsonSearchBar.razor</span> - Search bar</li>
                <li><span class="file-path">Components/Preview/LineNumbers.razor</span> - Line numbers</li>
                <li><span class="file-path">Components/Preview/JsonDiffView.razor</span> - Diff view</li>
                <li><span class="file-path">Components/Preview/JsonValidationPanel.razor</span> - Validation panel</li>
                <li><span class="file-path">Components/Preview/JsonStatusBar.razor</span> - Status bar</li>
                <li><span class="file-path">wwwroot/css/json-preview.css</span> - Styles</li>
                <li><span class="file-path">wwwroot/js/json-preview.js</span> - JavaScript interop</li>
            </ul>
        </div>

        <!-- Section 3: Verification Checklist -->
        <div class="section">
            <div class="section-header">
                <div class="section-icon checklist">&#9989;</div>
                <h2>Section 3: Verification Checklist</h2>
            </div>

            <div class="checklist-group">
                <h3>Syntax Highlighting</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-1" onchange="updateProgress()">
                    <label for="verify-1">JSON displays with proper indentation</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-2" onchange="updateProgress()">
                    <label for="verify-2">JSON keys colored (blue)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-3" onchange="updateProgress()">
                    <label for="verify-3">JSON strings colored</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-4" onchange="updateProgress()">
                    <label for="verify-4">JSON numbers colored</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-5" onchange="updateProgress()">
                    <label for="verify-5">JSON booleans colored (red)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-6" onchange="updateProgress()">
                    <label for="verify-6">JSON null colored (purple)</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-7" onchange="updateProgress()">
                    <label for="verify-7">JSON brackets colored</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Line Numbers</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-8" onchange="updateProgress()">
                    <label for="verify-8">Line numbers display correctly</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-9" onchange="updateProgress()">
                    <label for="verify-9">Error lines highlighted in line numbers</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>View Modes</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-10" onchange="updateProgress()">
                    <label for="verify-10">Formatted view mode works</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-11" onchange="updateProgress()">
                    <label for="verify-11">Raw view mode works</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-12" onchange="updateProgress()">
                    <label for="verify-12">Diff view mode works</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Search</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-13" onchange="updateProgress()">
                    <label for="verify-13">Ctrl+F toggles search bar</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-14" onchange="updateProgress()">
                    <label for="verify-14">Search finds matches in JSON</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-15" onchange="updateProgress()">
                    <label for="verify-15">Match count displays correctly</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-16" onchange="updateProgress()">
                    <label for="verify-16">Previous button navigates matches</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-17" onchange="updateProgress()">
                    <label for="verify-17">Next button navigates matches</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-18" onchange="updateProgress()">
                    <label for="verify-18">ESC closes search bar</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Actions</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-19" onchange="updateProgress()">
                    <label for="verify-19">Copy button copies JSON to clipboard</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-20" onchange="updateProgress()">
                    <label for="verify-20">Download button saves .json file</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-21" onchange="updateProgress()">
                    <label for="verify-21">Import button opens file picker</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-22" onchange="updateProgress()">
                    <label for="verify-22">Import validates JSON</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-23" onchange="updateProgress()">
                    <label for="verify-23">Invalid JSON shows validation errors</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Diff View</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-24" onchange="updateProgress()">
                    <label for="verify-24">Diff view shows Original vs Current</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-25" onchange="updateProgress()">
                    <label for="verify-25">Added lines highlighted green</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-26" onchange="updateProgress()">
                    <label for="verify-26">Removed lines highlighted red</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-27" onchange="updateProgress()">
                    <label for="verify-27">Modified lines highlighted yellow</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Validation</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-28" onchange="updateProgress()">
                    <label for="verify-28">Validation panel shows errors</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-29" onchange="updateProgress()">
                    <label for="verify-29">Clicking error navigates to line</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Status Bar</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-30" onchange="updateProgress()">
                    <label for="verify-30">Status bar shows Valid/Invalid</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-31" onchange="updateProgress()">
                    <label for="verify-31">Status bar shows last modified</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-32" onchange="updateProgress()">
                    <label for="verify-32">Status bar shows cursor position</label>
                </div>
            </div>

            <div class="checklist-group">
                <h3>Dark Mode</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="verify-33" onchange="updateProgress()">
                    <label for="verify-33">Dark mode syntax colors correct</label>
                </div>
            </div>

            <div class="summary-stats">
                <div class="stat-card">
                    <div class="stat-value" id="testingComplete">0</div>
                    <div class="stat-label">Testing Steps</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="verifyComplete">0</div>
                    <div class="stat-label">Verifications</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="percentComplete">0%</div>
                    <div class="stat-label">Overall</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Load saved progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem('jsonPreviewTestProgress');
            if (saved) {
                const checked = JSON.parse(saved);
                checked.forEach(id => {
                    const checkbox = document.getElementById(id);
                    if (checkbox) {
                        checkbox.checked = true;
                        checkbox.closest('.checklist-item')?.classList.add('completed');
                    }
                });
            }
            updateProgress();
        }

        // Save progress to localStorage
        function saveProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            const checked = Array.from(checkboxes).map(cb => cb.id);
            localStorage.setItem('jsonPreviewTestProgress', JSON.stringify(checked));
        }

        // Update progress bar and counts
        function updateProgress() {
            const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
            const checkedBoxes = document.querySelectorAll('input[type="checkbox"]:checked');

            const total = allCheckboxes.length;
            const completed = checkedBoxes.length;
            const percent = Math.round((completed / total) * 100);

            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('completedCount').textContent = completed;
            document.getElementById('totalCount').textContent = total;

            // Count by section
            const testingCheckboxes = document.querySelectorAll('[id^="test-"]');
            const testingChecked = document.querySelectorAll('[id^="test-"]:checked');
            const verifyCheckboxes = document.querySelectorAll('[id^="verify-"]');
            const verifyChecked = document.querySelectorAll('[id^="verify-"]:checked');

            document.getElementById('testingComplete').textContent = testingChecked.length + '/' + testingCheckboxes.length;
            document.getElementById('verifyComplete').textContent = verifyChecked.length + '/' + verifyCheckboxes.length;
            document.getElementById('percentComplete').textContent = percent + '%';

            // Update completed styling
            allCheckboxes.forEach(cb => {
                const item = cb.closest('.checklist-item');
                if (item) {
                    if (cb.checked) {
                        item.classList.add('completed');
                    } else {
                        item.classList.remove('completed');
                    }
                }
            });

            saveProgress();
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', loadProgress);
    </script>
</body>
</html>
